## 应用和数据库的负载均衡、主备部署方案，图片和其他静态资源文件存放、加速方案。

####  1.  建议数据库实时切换，软件需增加实时切换支撑支持， 工作量有所增加
应用服务器采用通用的基于nginx的集群方案, 支持2台以上服务器。 另外分离数据库服务器，支持两台数据库服务器实时切换。

####  2.  图片及静态资源文件 存取于 CDN服务器，加速静态文件存取速度

####  3.  加速方案还包括  1. 增加硬件资源：如 独立数据库服务器，增加带宽，增加CPU内核数等

####  4.  对高访问数据采用redis服务缓存，有必要时独立内存服务器


## 估算一下服务器配置要求、带宽，并发量，访问速度。
 **以20万用户体量估算， 在高峰时间段内8000人同时在线， 平均2小时内同时发起300次请求， 即**
```
QPS  = 300次/7200秒 * 8000 =~  300
```

> 假设 每次申请数据大小是 500b [指业务数据， 非静态数据] 
```
呑吐量 = 300 * 0.5k * 0.001m/k < 1M
```

> 考虑静态资源同一服务器 平均每页 5k 
```
呑吐量 = 300 * 0.005M < 2M  
```
            
> 建议 前期申请 1M 带宽， 几万用户可考虑升级至2M 带宽

> 次请求平均响应时间 为 20~100ms

#### 建议选用配置
> 采购阿里云服务器， Ubuntu 14.04服务器操作系统 
              
 **5万用户内**
 ```
 单核CPU, 4G内存,  1M 带宽
 随着用户量增加  考虑集群方案  采购2台应用服务器 与 2 台数据库服务器  （1台缓存服务器 可选）
 ```
