# 开发从表单业开始

表单是构成大的业务系统的业务单元，但要做好表单开发并不如想象中容易, 特别是刚参加工作的同学, 对业务通常不够重视, 造成在开发过程中未能专注业务逻辑本身，大量时间花在低价值的范错成本。Java编程开身就是为业务开发而生，所以如果对业务开发不感兴趣，请转向调研时间比重较高的的底层技术开发


## 表单开发先从设计实体数据库表的细节中认真思考, 最低限度地减少复工成本。 

### 首先，对实体表，需从业务的角度，逐一考虑是否需要以下字段

| **Field Name**     | **Description**                                  |  是否需要  |
| ------------------ | -------------------------------------------------| --------- |
| id                 | 固定必须字段                                       |           |
| org_id             | 租户组织 id, 实体主表固定必须字段                     |           |
| org_tag            | 租户组织标识, 实体主表固定必须字段                     |           |
| category_id        | 实体所属分类，考虑实体是否需要分类管理                  |           |
| pid                | 实体所属父类，实体如果是多层级（如部门）                |           |
| name               | 实体名称                                           |           |
| code               | 实体编号 (唯一字段)                                 |           |
| status             | 实体状态, 是否需要有状态转移                          |           |
| version            | 版本控制 myBatis保留字段, 用于保证多用户同时对实体修改   |           |
| create_time        | 实体创建时间，需考虑实体是否需要记录创建时间             |           |
| update_time        | 实体更新时间，需考虑实体是否需要记录更新时间             |           |
| sort_num           | 排序字段，考虑实体是否需要自定义排序                    |           |
| invalid            | 无效字段，实体是否需要有效控制(可由status控制)          |           |


#### 然后，对实体每一个字段，需要考虑**是否必填**（如果必填，字段定义为 not null）, 是否唯一（唯一字段为 unique)，是否组合键唯一，是否有默认值。


### 数据库设计思考清楚并进行过review，并后确定 approved之后，可以通过工具生成代。
通常5分钟内即可完成CRUD代码的编写，说明即便一个简单的表单业务，写代码占用的时间比重是很小的。生成完代码，又重新回到表单的业务分析上面。

### 表单业务 主要分为 列表，新建，编辑，通常 三者从业务层面考虑有很多不同的地方。
比如 创建时间 新建时是没有的，但编辑是可见的，不可编辑的。 用户不关心的 关联id 字段无需显示。列表不一定要显示所有数据，显示重要关键数据 等等

以下以 Check List 的形式列表常见的典型情况

#### 列表需要考虑如下情况
- 检查实体列表是否包含了用户不关心字段，如实体id, 其他关联实体id, 并且实体关联实体id是否转换为实体名称
- 检查实体实体列表是否考虑了业务上的时间倒序需求
- 检查实体状态转移是否通过 列表操作栏进行，而不是在实体编辑中直接保存新状态
- 搜索是否符满足业务上的查询需求，并且需要检查搜索结果是否正确, 某些搜索过虑条件是否需要模糊查询

#### 表单需要考虑如下情况
- 检查表单录入框是否配置了必填字段（快速开发框架默认必埴）
- 检查表单**备注**字段是否用富文本并支持换行, 跨行占**2行**跨列占两**整行**
- 检查**选项**录入是否通过系统 **配置域** 或 **系统数据字典** 配置及获取
- 检查表单新建实体时，没有**创建时间** 及 **更新时间** 录入, 更新实体时，有创建时间 更新时间显示，但显示为文体框 
- 检查表单日期查询，日期格式转换，日期范围查询范围涉及比较复杂的逻辑，需要从用户界面，易操作性上考虑，类似3日内，1个月内 等方式
- 录入省市区 及地址 需要标准化组件 



