## 接口开发规范
* Gateway接口 /api/crud/entity/entities/{id}, RPC接口 /rpc/
* 规范 Dubbo 微服务使用场景并规范提供微服务接口文档
* Dubbo 对内部跨微服务提供接口
* RabbitMQ对事件提供消息接口
* 微服务独立开发 端到端  提供标准化 友好 外部接口  （区分内部接口与外部接口）
* 第三方接口需考虑客户授权以及数据日志
* 安全级别高的接口需要考虑接口签名
* 基础性模块要同时提供测试工具或测试模拟工具
* 主动调用第三方接口要提供注册接口
* 对高并发接口实行流量控制 QPS, node, distribute, cluster  拒绝访问
* 数据库读写分离  负载均衡  写数据库并同步到所有读数据库
* 所有系统直接增加监控 Dashboard 并通过 SMS, MAIL,IM, 微信公众号发送
* RabbitMQ 以及 Redis 应用加全局开关
* 所有接口代码考虑并发 （如Nodejs并文件操作）

## 微服务开发规范
* 内存分析  DOCKER  JAVA 11 OPTIONS 内存设置 
* 微服务间消息调用 问题分析  
* Message First   消息优先定义  提供simulator 测试
* 接口内型 规范 定义 web gateway 接口,  service 接口（授权)  dubbo 接口
* 任何微服务可独立部署测试  需提供测试工具，接口说明，测试模拟器
* 定义标准 log-fmt 输出格式 可快速查询 并高效运维
* 第三方调用 提供API 注册 gateway 通过  dubbo 调用代码 API 并且可追踪过程  消息体是否有日志记录  调用函数是否可注册？
* RabbitMQ 消息调用 通过gateway   
* 思考 消息中心  消息中继
* CRUD 与 业务逻辑分离   基于JOPO的application middleware  无数据库依赖  无SpringMVC依赖 

## 日志规范
* 发送MQ消息 日志格式为  log.info("### MQ ### Sent xxx message:" + JSON.toJSONString(entity));
* 接收MQ消息 日志格式为  log.info("### MQ ### Received xxx message:" + JSON.toJSONString(entity));
* 日志需要保留至少90天

## 防范空指针
*	尽量多判断输入参数或返回对象是否为null, 如果输入参数或返回对象不能为空，则抛出异常(throw new RuntimeException())；
  如果返回对象可以为空，则通过if跳过空指针
*	禁止使用多点操作，因为多点操作很容易出现空针指；对多点操作应分开多行获取对象，并对获取的对象进行非空判断
*	查询数据库业务数据时，如果非查询单个实体记录详情，不使用select \*，按照业务需求提供必要的字段信息返回给前端
* 不使用selectList.get(0)函数去获取需要操作的实体类
* 使用selectOne函数需要确定获取结果的唯一性，selectOne函数一般是对存在组合键的实体类进行查询
* 需要连表查询请直接在xml文件中编码对应的sql语句，摈弃在实现类中通过关联的实体类的Mapper对关联的实体进行查询后再进行值的插入，此方法在数据库无记录的情况下会频繁出现空指针异常
